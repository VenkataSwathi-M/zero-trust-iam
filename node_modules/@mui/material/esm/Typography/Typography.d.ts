import { useParams } from "react-router-dom";
import { useEffect, useState } from "react";
import { fetchDecisionTrace } from "../services/policyApi";

export default function DecisionTrace() {
  const { sessionId } = useParams();
  const [trace, setTrace] = useState(null);

  useEffect(() => {
    fetchDecisionTrace(sessionId).then(setTrace);
  }, [sessionId]);

  if (!trace) return "Loading...";

  return <pre>{JSON.stringify(trace, null, 2)}</pre>;
}